---
title: "Data"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Data}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r}
#| echo: false
options(knitr.kable.NA = "")
library(codec)

cd <-
  fs::path_package("codec") |>
  fs::path("codec_data") |>
  fs::dir_ls() |>
  fs::path_file() |>
  lapply(codec_data)


make_data_entry <- function(x) {

  dl_button <-
    downloadthis::download_dir(
      button_label = "", 
      button_type = "info",
      has_icon = TRUE,
      icon = "fa fa-download",
      self_contained = TRUE,
      class = "codec_button_dl",
      path = fs::path_package("codec", "codec_data", x@name),
      output_name = x@name) |>
    bsplus::bs_embed_tooltip("download the CoDEC tabular data resource", placement = "right")

  name_button <- bsplus::bs_button(label = x@name, class = "codec_button_n")

  version_button <- glue::glue("{x@version}")

  cat(glue::glue("{name_button}{version_button}{dl_button}"))
  cat("\n\n")
  cat(glue::glue("> {x@description}"))
  cat("\n\n")
}
```

```{r}
#| echo: false
#| results: asis
invisible(lapply(cd, make_data_entry))
```

```{css, echo=FALSE}
.codec_button_dl {
	font-size: 12px;
	button-size: Extra-small;
}

.codec_button_n {
	font-size: 24px;
	font-family: "Source Code Pro";
}
```
